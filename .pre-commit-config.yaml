# `pre-commit` hook configuration for running checks from the nix flake.
#
# This hook will run `nix flake check` before every commit to
# ensure your project passes all flake-defined checks.
#
# You can view which checks will be run for your system with `nix flake show`.
#
# Usage:
# 1. Make sure you are inside the dev shell:
#
#      `nix develop`
#
#    (Otherwise, `nix flake check` may fail due to missing dependencies.)
#
# 2. Install the pre-commit hook (only once per repo):
#
#      `pre-commit install`
#
# 3. From now on, every `git commit` will automatically run `nix flake check`.
#
#    To bypass these checks (not recommended), commit with:
#
#      `git commit --no-verify`
#
# ------------------------------------------------------------

repos:
  - repo: local
    hooks:
      - id: nix-flake-check
        name: nix flake check
        entry: nix flake check
        language: system
        pass_filenames: false
